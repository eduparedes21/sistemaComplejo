<!DOCTYPE html>

<html lang="es" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity6" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="utf-8"/>
<title>Nuevo Usuario</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"/>
<link href="/css/styles.css" rel="stylesheet"/>
</head>
<body>
<div class="container mt-4">
<h2>Registrar Nuevo Usuario</h2>
<!-- üìå Mensajes de error -->
<div class="alert alert-danger" th:if="${error}" th:text="${error}"></div>
<!-- üìå Solo los administradores pueden ver este formulario -->
<div sec:authorize="hasRole('ADMIN')">
<form method="post" th:action="@{/usuarios/crear}" th:object="${usuario}"><input th:name="${_csrf.parameterName}" th:value="${_csrf.token}" type="hidden"/>
<div class="mb-3">
<label for="nombre">Nombre:</label>
<input class="form-control" id="nombre" required="" th:field="*{nombre}" type="text"/>
</div>
<div class="mb-3">
<label for="email">Email:</label>
<input class="form-control" id="email" required="" th:field="*{email}" type="email"/>
</div>
<div class="mb-3">
<label for="rol">Rol:</label>
<select class="form-control" id="rol" required="" th:field="*{rol}">
<option value="administrador">Administrador</option>
<option value="personal">Personal</option>
</select>
</div>
<div class="mb-3">
<label for="password">Contrase√±a:</label>
<input class="form-control" id="password" required="" th:field="*{password}" type="password"/>
</div>
<button class="btn btn-primary" type="submit">Guardar Usuario</button>
<a class="btn btn-secondary" href="/usuarios">Volver</a>
</form>
</div>
</div>
</body>
</html>
